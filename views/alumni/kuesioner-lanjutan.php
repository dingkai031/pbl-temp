<section>
    <div class="container">
        <div class="card shadow">
            <div class="card-header">
                <h4 class="card-title mb-0">Umpan Balik dari Lulusan</h4>
            </div>
            <div class="card-body">
                <form autocomplete="off" id="form-kuesioner-1">
                    <div class="steps">
                        <div class="row g-0">
                            <div class="col-lg-6 mb-3">
                                <div class="mb-3">
                                    <label class="form-label">Apakah saat ini Anda sedang bersekolah/kuliah?</label>
                                    <br>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="apakah-sedang-sekolah-atau-kuliah" id="apakah-sedang-sekolah-atau-kuliah-1" value="ya">
                                        <label class="form-check-label" for="apakah-sedang-sekolah-atau-kuliah-1">Ya</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="apakah-sedang-sekolah-atau-kuliah" id="apakah-sedang-sekolah-atau-kuliah-2" value="tidak">
                                        <label class="form-check-label" for="apakah-sedang-sekolah-atau-kuliah-2">Tidak</label>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Apakah anda sedang atau pernah mengikuti pelatihan atau sertifikasi?</label>
                                    <br>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="sedang-ikut-pelatihan" id="sedang-ikut-pelatihan-1" value="ya">
                                        <label class="form-check-label" for="sedang-ikut-pelatihan-1">Ya</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="sedang-ikut-pelatihan" id="sedang-ikut-pelatihan-2" value="tidak">
                                        <label class="form-check-label" for="sedang-ikut-pelatihan-2">Tidak</label>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="jenis-pelatihan" class="form-label">Apakah anda sedang atau pernah mengikuti pelatihan atau sertifikasi?</label>
                                    <input type="text" name="jenis-pelatihan" id="jenis-pelatihan" class="form-control" required>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="steps d-none">
                        <div class="col-lg-6 mb-3">
                            <div class="mb-3">
                                <label for="alamat" class="form-label fw-bolder">Aktifitas apa yang sedang anda lakukan saat ini?</label>
                                <div class="form-check">
                                    <input class="form-check-input" name="aktivitas-yang-sedang-dilakukan" type="checkbox" value="bekerja" id="aktivitas-yang-sedang-dilakukan">
                                    <label class="form-check-label" for="aktivitas-yang-sedang-dilakukan">
                                        Bekerja
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="aktivitas-yang-sedang-dilakukan" type="checkbox" value="berwirausaha" id="aktivitas-yang-sedang-dilakukan-2">
                                    <label class="form-check-label" for="aktivitas-yang-sedang-dilakukan-2">
                                        Berwirausaha
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="aktivitas-yang-sedang-dilakukan" type="checkbox" value="sedang mencari kerjaan" id="aktivitas-yang-sedang-dilakukan-3">
                                    <label class="form-check-label" for="aktivitas-yang-sedang-dilakukan-3">
                                        Sedang mencari kerjaan
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="steps d-none">
                        <div class="col-lg-6 mb-3">
                            <div class="mb-3">
                                <label for="alamat" class="form-label fw-bolder">Situasi apa yang sedang anda alami saat ini?</label>
                                <div class="form-check">
                                    <input class="form-check-input" name="situasi-yang-sedang-dialami" type="checkbox" value="mencari-nafkah" id="situasi-yang-sedang-dialami-3">
                                    <label class="form-check-label" for="situasi-yang-sedang-dialami-3">
                                        Tanggung jawab mencari nafkah
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="situasi-yang-sedang-dialami" type="checkbox" value="tamat-sekolah" id="situasi-yang-sedang-dialami-4">
                                    <label class="form-check-label" for="situasi-yang-sedang-dialami-4">
                                        Tamat sekolah/tidak bersekolah lagi
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="situasi-yang-sedang-dialami" type="checkbox" value="phk" id="situasi-yang-sedang-dialami-5">
                                    <label class="form-check-label" for="situasi-yang-sedang-dialami-5">
                                        PHK
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="situasi-yang-sedang-dialami" type="checkbox" value="usaha bangkrut" id="situasi-yang-sedang-dialami-6">
                                    <label class="form-check-label" for="situasi-yang-sedang-dialami-6">
                                        Usaha Bangkrut
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="situasi-yang-sedang-dialami" type="checkbox" value="masa kontrak habis" id="situasi-yang-sedang-dialami-7">
                                    <label class="form-check-label" for="situasi-yang-sedang-dialami-7">
                                        Masa kontrak habis
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="situasi-yang-sedang-dialami" type="checkbox" value="lainnya" id="situasi-yang-sedang-dialami-8">
                                    <label class="form-check-label" for="situasi-yang-sedang-dialami-8">
                                        Lainnya
                                    </label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="alamat" class="form-label fw-bolder">Alasan utama tidak mencari pekerjaan atau mempersiapkan suatu usaha/wirausaha setelah lulus kuliah</label>
                                <div class="form-check">
                                    <input class="form-check-input" name="alasan-tidak-mencari-pekerjaan" type="checkbox" value="sudah-diterima-kerja-atau-punya-usaha" id="alasan-tidak-mencari-pekerjaan-3">
                                    <label class="form-check-label" for="alasan-tidak-mencari-pekerjaan-3">
                                        Sudah diterima bekerja/sudah mempunyai usaha, tetapi belum mulai bekerja/belum memulai usaha
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="alasan-tidak-mencari-pekerjaan" type="checkbox" value="putus-asa" id="alasan-tidak-mencari-pekerjaan-4">
                                    <label class="form-check-label" for="alasan-tidak-mencari-pekerjaan-4">
                                    Putus asa (sudah mencoba berulang kali tapi tidak kunjung mendapatkan pekerjaan)
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="alasan-tidak-mencari-pekerjaan" type="checkbox" value="mengurus-rumah-tangga" id="alasan-tidak-mencari-pekerjaan-5">
                                    <label class="form-check-label" for="alasan-tidak-mencari-pekerjaan-5">
                                    Mengurus rumah tangga
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="alasan-tidak-mencari-pekerjaan" type="checkbox" value="sedang-melanjutkan-pendidikan" id="alasan-tidak-mencari-pekerjaan-6">
                                    <label class="form-check-label" for="alasan-tidak-mencari-pekerjaan-6">
                                    Sedang melanjutkan pendidikan
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="alasan-tidak-mencari-pekerjaan" type="checkbox" value="masa kontrak habis" id="alasan-tidak-mencari-pekerjaan-7">
                                    <label class="form-check-label" for="alasan-tidak-mencari-pekerjaan-7">
                                        Masa kontrak habis
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="alasan-tidak-mencari-pekerjaan" type="checkbox" value="tidak-punya-modal" id="alasan-tidak-mencari-pekerjaan-8">
                                    <label class="form-check-label" for="alasan-tidak-mencari-pekerjaan-8">
                                    Tidak mempunyai modal
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="steps d-none">
                        <div class="row g-0">
                            <div class="col-12 mb-3">
                                <p class="fw-bolder">Seberapa penting kemampuan berikut ini dibutuhkan di instansi/lembaga/perusahaan/tempat Anda bekerja/berwirausaha?</p>
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th class="text-center text-nowrap">Tidak Baik Sekali</th>
                                                <th class="text-center text-nowrap">Tidak Baik</th>
                                                <th class="text-center text-nowrap">Cukup</th>
                                                <th class="text-center text-nowrap">Baik</th>
                                                <th class="text-center text-nowrap">Baik Sekali</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Kemampuan menggunakan peralatan teknologi informasi</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-menggunakan-teknologi" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-menggunakan-teknologi" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-menggunakan-teknologi" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-menggunakan-teknologi" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-menggunakan-teknologi" value="5" required></td>
                                            </tr>
                                            <tr>
                                                <td>Kemampuan berbahasa asing</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-bahasa-asing" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-bahasa-asing" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-bahasa-asing" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-bahasa-asing" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-bahasa-asing" value="5" required></td>
                                            </tr>
                                            <tr>
                                                <td>Kemampuan menyampaikan ide dan solus</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-menyampaikan-ide" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-menyampaikan-ide" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-menyampaikan-ide" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-menyampaikan-ide" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-menyampaikan-ide" value="5" required></td>
                                            </tr>
                                            <tr>
                                                <td>Kemampuan untuk beradaptasi dengan lingkungan kerja</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-beradaptasi-dengan-lingkungan-kerja" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-beradaptasi-dengan-lingkungan-kerja" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-beradaptasi-dengan-lingkungan-kerja" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-beradaptasi-dengan-lingkungan-kerja" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemampuan-beradaptasi-dengan-lingkungan-kerja" value="5" required></td>
                                            </tr>
                                            <tr>
                                                <td>Berpikir analitis</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="berpikir-analitis" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="berpikir-analitis" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="berpikir-analitis" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="berpikir-analitis" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="berpikir-analitis" value="5" required></td>
                                            </tr>
                                            <tr>
                                                <td>Kemampuan bekerja secara efektif untuk mencapai tujuan</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-secara-efektif" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-secara-efektif" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-secara-efektif" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-secara-efektif" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-secara-efektif" value="5" required></td>
                                            </tr>
                                            <tr>
                                                <td>Kemampuan mengelola pekerjaan secara efisien</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-secara-efisien" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-secara-efisien" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-secara-efisien" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-secara-efisien" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-secara-efisien" value="5" required></td>
                                            </tr>
                                            <tr>
                                                <td>Kemampuan bekerja sama dalam tim</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-sama-dalam-tim" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-sama-dalam-tim" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-sama-dalam-tim" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-sama-dalam-tim" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="bekerja-sama-dalam-tim" value="5" required></td>
                                            </tr>
                                            <tr>
                                                <td>Berkinerja baik walaupun ada di bawah tekanan</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kerja-dibawah-tekanan" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kerja-dibawah-tekanan" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kerja-dibawah-tekanan" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kerja-dibawah-tekanan" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kerja-dibawah-tekanan" value="5" required></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-12 mb-3">
                                <p class="fw-bolder">Seberapa bermanfaat Studi Anda dikaitkan dengan pekerjaan/wirausaha sekarang?</p>
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th class="text-center text-nowrap">Tidak Baik Sekali</th>
                                                <th class="text-center text-nowrap">Tidak Baik</th>
                                                <th class="text-center text-nowrap">Cukup</th>
                                                <th class="text-center text-nowrap">Baik</th>
                                                <th class="text-center text-nowrap">Baik Sekali</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Teori dan praktik</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="teori-dan-praktik" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="teori-dan-praktik" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="teori-dan-praktik" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="teori-dan-praktik" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="teori-dan-praktik" value="5" required></td>
                                            </tr>
                                            <tr>
                                                <td>Sikap dan kemampuan berkomunikasi (budaya kerja)</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="sikap-dan-kemampuan-berkomunikasi" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="sikap-dan-kemampuan-berkomunikasi" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="sikap-dan-kemampuan-berkomunikasi" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="sikap-dan-kemampuan-berkomunikasi" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="sikap-dan-kemampuan-berkomunikasi" value="5" required></td>
                                            </tr>
                                            <tr>
                                                <td>Jejaring kerja sama dengan DUDI</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kerja-sama-dengan-dudi" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kerja-sama-dengan-dudi" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kerja-sama-dengan-dudi" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kerja-sama-dengan-dudi" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kerja-sama-dengan-dudi" value="5" required></td>
                                            </tr>
                                            <tr>
                                                <td>Kemandirian (budaya kerja)</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemandirian" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemandirian" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemandirian" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemandirian" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="kemandirian" value="5" required></td>
                                            </tr>
                                            <tr>
                                                <td>Magang/prakerin</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="magang" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="magang" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="magang" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="magang" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="magang" value="5" required></td>
                                            </tr>
                                            <tr>
                                                <td>Menulis tugas akhir</td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="menulis-tugas-akhir" value="1" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="menulis-tugas-akhir" value="2" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="menulis-tugas-akhir" value="3" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="menulis-tugas-akhir" value="4" required></td>
                                                <td class="text-center"><input class="form-check-input" type="radio" name="menulis-tugas-akhir" value="5" required></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="card-footer">
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-primary action-button previous">Previous</button>
                    <button type="button" class="btn btn-primary action-button next">Next</button>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    window.onload = function() {
        setActionButton()
        document.querySelector(".action-button.previous").addEventListener("click", function() {
            const activeStep = document.querySelector(".steps:not(.d-none)");
            activeStep.classList.add("d-none");
            activeStep.previousSibling.previousSibling.classList.remove("d-none");
            setActionButton();
        });

        function setActionButton() {
            function handleSubmit() {
                const formWrapper = document.querySelector("#form-kuesioner-1");
                const allInput = formWrapper.querySelectorAll("input, textarea");
                for (const input of allInput) {
                    if (input.type == "text" || input.tagName.toLowerCase() == "textarea" || input.type == "email" || input.type == "number" || input.type == "password") {
                        if (input.value == "") {
                            let inputStep = input;
                            while (!inputStep.classList.contains("steps")) {
                                inputStep = inputStep.parentElement;
                            }
                            document.querySelector(".steps:not(.d-none)").classList.add("d-none");
                            inputStep.classList.remove("d-none");
                            input.classList.add("is-invalid");
                            input.addEventListener("keyup", function() {
                                if (input.value.trim() == "") {
                                    input.classList.add("is-invalid");
                                } else {
                                    input.classList.remove("is-invalid");
                                }
                            })
                            input.focus();
                            setActionButton();
                            return;
                        }
                    } else if (input.type == "radio" || input.type == "checkbox") {
                        if (document.querySelectorAll(`input[name='${input.getAttribute("name")}']:checked`).length == 0) {
                            let inputStep = input;
                            while (!inputStep.classList.contains("steps")) {
                                inputStep = inputStep.parentElement;
                            }
                            document.querySelector(".steps:not(.d-none)").classList.add("d-none");
                            inputStep.classList.remove("d-none");
                            input.focus();
                            setActionButton();
                            return;
                        }
                    }
                }
                const allAnswerElm = document.querySelectorAll("input[type='text']:not([value]), textarea, input[type='radio']:checked, input[type='checkbox']:checked");
                const allAnswer = [];
                for (const answerElm of allAnswerElm) {
                    if (answerElm.type == "text" || answerElm.tagName.toLowerCase() == "textarea" || answerElm.type == "email" || answerElm.type == "number") {
                        allAnswer.push({
                            question: answerElm.getAttribute("name"),
                            answer: answerElm.value,
                        });
                    } else if (answerElm.type == "radio" || answerElm.type == "checkbox") {
                        const pos = allAnswer.map(answer => answer.question).indexOf(answerElm.getAttribute("name"));
                        if (pos < 0) {
                            allAnswer.push({
                                question: answerElm.getAttribute("name"),
                                answer: [answerElm.value]
                            })
                        } else {
                            allAnswer[pos].answer.push(answerElm.value);
                        }
                    }
                };
                console.log(allAnswer)
                const bodyData = {
                    allAnswer
                };
                // sendData('<?= ROOT_URL . "kuesioner-awal" ?>', bodyData)
                //     .then(res => {
                //         if (res.status == "error") alert(res.pesan);
                //         if (res.status === "success") window.location.replace("<?= ROOT_URL ?>");
                //     });
            }
            const activeStep = document.querySelector(".steps:not(.d-none)");
            document.querySelectorAll(".action-button").forEach(elm => elm.setAttribute('disabled', ''));
            document.querySelector(".action-button.next").removeAttribute('disabled');
            if (!activeStep.nextSibling.nextSibling) {
                document.querySelector(".action-button.next").setAttribute("type", "submit");
                document.querySelector(".action-button.next").innerHTML = "<span class=\"submit-button-spinner spinner-border spinner-border-sm d-none\" role=\"status\"></span><span class=\"submit-button-text\">Submit</span>";
                document.querySelector(".action-button.next").classList.remove("btn-primary");
                document.querySelector(".action-button.next").classList.add("btn-success");
                document.querySelector(".action-button.next").classList.add("submit-button");
                document.querySelector(".action-button.next").addEventListener("click", handleSubmit, false);
            } else {
                document.querySelector(".action-button.next").setAttribute("type", "button");
                document.querySelector(".action-button.next").textContent = "Next";
                document.querySelector(".action-button.next").classList.remove("btn-success");
                document.querySelector(".action-button.next").classList.remove("submit-button");
                document.querySelector(".action-button.next").classList.add("btn-primary");
                const oldElm = document.querySelector(".action-button.next");
                const newElm = oldElm.cloneNode(true);
                oldElm.parentNode.replaceChild(newElm, oldElm);
                document.querySelector(".action-button.next").addEventListener("click", function() {
                    if (this.getAttribute("type") === "button") {
                        const activeStep = document.querySelector(".steps:not(.d-none)");
                        if (activeStep.nextSibling.nextSibling) {
                            activeStep.classList.add("d-none");
                            activeStep.nextSibling.nextSibling.classList.remove("d-none");
                            setActionButton();
                        }
                    }
                });
            }
            if (activeStep.previousSibling.previousSibling) document.querySelector(".action-button.previous").removeAttribute('disabled');
        };
    }
</script>